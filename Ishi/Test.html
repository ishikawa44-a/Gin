<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>銀行ガイド テスト</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">
<style>
body{margin:0;font-family:"Noto Sans JP",sans-serif;background:#f5f7fa;}
header{position:sticky;top:0;display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background:rgba(255,255,255,0.9);backdrop-filter:blur(8px);box-shadow:0 4px 12px rgba(0,0,0,0.1);z-index:10000;flex-wrap:wrap;}
.logo{font-weight:bold;font-size:1.6em;color:#4facfe;}
nav{display:flex;align-items:center;z-index:10000;}
nav ul.menu{list-style:none;display:flex;gap:15px;margin:0;padding:0;pointer-events:none;}
nav ul.menu.open{pointer-events:auto;}
nav ul li{position:relative;}
nav ul li a{color:#333;text-decoration:none;padding:10px 12px;border-radius:10px;transition:all 0.3s ease;}
.submenu{list-style:none;position:absolute;top:100%;left:0;width:200px;background:#fff;padding:10px 0;border-radius:6px;box-shadow:0 6px 12px rgba(0,0,0,0.15);opacity:0;transform:translateY(10px);transition:all 0.3s ease;pointer-events:none;z-index:100;}
.submenu li a{display:block;padding:8px 15px;color:#333;border-radius:4px;transition:background 0.3s,color 0.3s;}
.submenu li a:hover{background:#e6f0ff;color:#4facfe;}
@media(min-width:769px){
  nav li:hover>.submenu{opacity:1;transform:translateY(0);pointer-events:auto;}
}
.menu-icon{display:none;font-size:28px;cursor:pointer;border:none;background:none;color:#333;}
.close-menu button{display:none;}
@media(max-width:768px){
  .menu-icon{display:block;}
  nav ul.menu{flex-direction:column;position:fixed;top:0;left:0;width:100%;max-height:90vh;overflow-y:auto;background:rgba(255,255,255,0.95);padding:20px 0;gap:10px;transform:translateY(100%);opacity:0;transition:transform 0.3s ease,opacity 0.3s ease;z-index:10000;}
  nav ul.menu.open{transform:translateY(0);opacity:1;}
  .close-menu button{display:block;position:sticky;top:0;width:100%;background:#fff;color:#333;font-size:24px;text-align:left;padding:12px 20px;border:none;cursor:pointer;z-index:10001;box-shadow:0 2px 6px rgba(0,0,0,0.1);}
  nav ul li a{padding:12px 20px;}
  .submenu{position:relative;display:none;width:100%;box-shadow:none;opacity:1;transform:none;pointer-events:auto;}
  .submenu.open{display:block;}
  .submenu li a{padding:12px 20px;}
}
main{padding:40px 20px;max-width:800px;margin:0 auto;}
#test-box{background:#fff;padding:30px;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,0.1);position:relative;z-index:1;}
#question-screen,#end-screen{margin-top:20px;}
#choices button{display:block;width:100%;margin:10px 0;padding:12px 15px;border:none;border-radius:10px;background:#4facfe;color:#fff;cursor:pointer;font-size:1.05em;transition:background .3s;}
#choices button:hover{background:#3c8cd8;}
#wrong-answers{margin-top:20px;}
#wrong-answers li{margin-bottom:10px;}
#start-screen{text-align:center;display:flex;flex-direction:column;align-items:center;gap:20px;}
.difficulty-group{display:flex;gap:15px;margin-top:10px;flex-wrap:wrap;justify-content:center;}
.difficulty-btn{padding:12px 28px;border:none;border-radius:30px;background:#e9ecef;color:#333;font-size:1rem;cursor:pointer;transition:all .3s;}
.difficulty-btn.active,.difficulty-btn:hover{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff;box-shadow:0 4px 12px rgba(79,172,254,0.4);}
#start-btn,#retry-btn{padding:14px 40px;font-size:1.2rem;border:none;border-radius:40px;cursor:pointer;background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff;font-weight:bold;transition:transform .2s,box-shadow .3s,background .3s;}
#start-btn:hover,#retry-btn:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(0,0,0,0.2);background:linear-gradient(135deg,#00f2fe,#4facfe);}
</style>
</head>
<body>
<header>
  <div class="logo">銀行ガイド<br>銀行テスト</div>
  <nav>
    <button class="menu-icon" id="menu-icon">☰</button>
    <ul class="menu" id="menu">
      <li class="close-menu"><button id="close-menu-btn">× 閉じる</button></li>
      <li><a href="Hazime.html">ご利用前に</a></li>
      <li><a href="HOME.html">HOME</a></li>
      <li class="has-sub">
        <a href="#" class="submenu-toggle">HOMEメニュー</a>
        <ul class="submenu">
          <li><a href="MegaBank.html">Mega Bank</a></li>
          <li><a href="Ginkou.html">銀行一覧</a></li>
          <li><a href="Shin.html">信用金庫</a></li>
          <li><a href="Kumi.html">信用組合</a></li>
          <li><a href="Net.html">ネットバンク開設手順</a></li>
          <li><a href="Kasou.html">仮想通貨開設手順</a></li>
          <li><a href="Sumaho.html">スマホ関連</a></li>
          <li><a href="GinShin.html">銀行＆信用金庫一覧</a></li>
          <li><a href="Gmap.html">Googleマップ検索</a></li>
          <li><a href="Test.html">銀行テスト</a></li>
        </ul>
      </li>
    </ul>
  </nav>
</header>
<main>
  <div id="test-box">
    <div id="start-screen">
      <h2>銀行テスト</h2>
      <p>難易度を選んでください（10問）</p>
      <div class="difficulty-group">
        <button class="difficulty-btn active" data-level="easy">初級</button>
        <button class="difficulty-btn" data-level="medium">順次更新</button>
        <button class="difficulty-btn" data-level="hard">順次更新</button>
      </div>
      <button id="start-btn">テスト開始</button>
    </div>
    <div id="question-screen" style="display:none;">
      <p id="question"></p>
      <div id="choices"></div>
      <p id="progress"></p>
    </div>
    <div id="end-screen" style="display:none;">
      <h3>テスト終了</h3>
      <p id="score"></p>
      <h4>間違えた問題と正解</h4>
      <ul id="wrong-answers"></ul>
      <button id="retry-btn">スタートに戻る</button>
    </div>
  </div>
</main>
<script>
document.addEventListener("DOMContentLoaded",()=>{
  const menuIcon=document.getElementById("menu-icon");
  const menu=document.getElementById("menu");
  const closeBtn=document.getElementById("close-menu-btn");
  menuIcon.addEventListener("click",()=>menu.classList.toggle("open"));
  closeBtn.addEventListener("click",()=>menu.classList.remove("open"));
  document.querySelectorAll(".submenu-toggle").forEach(t=>{
    t.addEventListener("click",e=>{
      e.preventDefault();
      const s=t.nextElementSibling;
      document.querySelectorAll(".submenu.open").forEach(m=>{if(m!==s)m.classList.remove("open");});
      s.classList.toggle("open");
    });
  });

  let selectedDifficulty="easy";
  document.querySelector(".difficulty-group").addEventListener("click",e=>{
    const btn=e.target.closest(".difficulty-btn");
    if(!btn)return;
    document.querySelectorAll(".difficulty-btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    selectedDifficulty=btn.dataset.level;
  });

  const questionSets={
    easy:[{q:"三井住友銀行の振込限度額は？",a:["150万円","100万円","50万円"],correct:1},
    {q:"三菱UFJ銀行の振込限度額は？",a:["150万円","100万円","50万円"],correct:1},
    {q:"みずほ銀行の振込限度額は？",a:["150万円","100万円","50万円"],correct:1},
    {q:"りそな銀行の振込限度額は？",a:["150万円","100万円","50万円"],correct:1},
    {q:"ゆうちょ銀行の振込限度額は？",a:["150万円","100万円","50万円"],correct:2},
    {q:"唯一メガバンクの中でUFJだけが振込対応しているコンビニは？",a:["セブイレ","ローソン","イーネット"],correct:0},
    {q:"この中で振込NGではない銀行は？",a:["イオン銀行","paypay銀行","GMOあおぞらネット銀行","楽天銀行"],correct:2},
    {q:"キャッシュカードがなくても通帳で振込可能な銀行は？",a:["りそな銀行","三菱UFJ銀行","ゆうちょ銀行","みずほ銀行"],correct:2},
    {q:"三井住友の振込対応していないコンビニは？",a:["セブイレ","ローソン","イーネット"],correct:0}
    ,{q:"りなそ銀行の振込対応していないコンビニは？",a:["セブイレ","ローソン","イーネット"],correct:0}],
    medium:[{q:"住宅ローンの金利タイプでないものは？",a:["固定金利","変動金利","割引金利"],correct:2},
    {q:"普通預金の利息は通常どれ？",a:["年0.001%前後","年1%","年5%"],correct:0},
    {q:"マイナンバーは何桁？",a:["12桁","10桁","15桁"],correct:0},
    {q:"SWIFTコードは何に使う？",a:["国際送金","株取引","税金申告"],correct:0},
    {q:"銀行が破綻した場合、預金保護は1金融機関あたりいくらまで？",a:["1000万円とその利息","100万円","無制限"],correct:0},
    {q:"定期預金を途中解約すると？",a:["利息が下がる","元本が減る","何も変わらない"],correct:0},
    {q:"キャッシュレス決済に含まれないものは？",a:["クレジットカード","QRコード","現金払い"],correct:2},
    {q:"銀行の営業時間で一般的に正しいのは？",a:["平日9時-15時","24時間","土日9時-15時"],correct:0},
    {q:"金利が上がると借入返済額は？",a:["増える","減る","変わらない"],correct:0},
    {q:"外貨預金のリスクは？",a:["為替変動","天気","地震"],correct:0}],
    hard:[{q:"LIBORは何の略？",a:["London Interbank Offered Rate","Local International Bank Official Rate","Long Investment Bond Option Rate"],correct:0},
    {q:"金融庁が定めるバーゼル規制は何を対象？",a:["銀行の自己資本比率","ATM設置数","顧客年齢"],correct:0},
    {q:"日銀の政策金利の正式名称は？",a:["無担保コール翌日物","プライムレート","公定歩合"],correct:0},
    {q:"フィンテックとは何と何を組み合わせた言葉？",a:["FinanceとTechnology","FineとTechnique","FinalとTech"],correct:0},
    {q:"日本の銀行法は何年に制定？",a:["1981年","1990年","1970年"],correct:0},
    {q:"CD（Certificate of Deposit）の特徴は？",a:["譲渡可能な定期預金","外貨建て国債","電子マネー"],correct:0},
    {q:"マネーロンダリング対策で使うKYCの意味は？",a:["Know Your Customer","Keep Your Cash","Know Your Credit"],correct:0},
    {q:"金融商品取引法の略称は？",a:["金商法","証券法","金融規法"],correct:0},{
        q:"量的・質的金融緩和は何を増やす？",a:["マネタリーベース","消費税","雇用契約"],correct:0},
        {q:"バーゼルⅢで求められる最低自己資本比率は？",a:["8%","4%","12%"],correct:0}]
  };

  const startBtn=document.getElementById("start-btn");
  const startScreen=document.getElementById("start-screen");
  const questionScreen=document.getElementById("question-screen");
  const endScreen=document.getElementById("end-screen");
  const questionEl=document.getElementById("question");
  const choicesEl=document.getElementById("choices");
  const progressEl=document.getElementById("progress");
  const scoreEl=document.getElementById("score");
  const wrongListEl=document.getElementById("wrong-answers");
  const retryBtn=document.getElementById("retry-btn");
  let questions=[],current=0,score=0,wrongAnswers=[];

  function shuffleArray(array){
    for(let i=array.length-1;i>0;i--){
      const j=Math.floor(Math.random()*(i+1));
      [array[i],array[j]]=[array[j],array[i]];
    }
    return array;
  }

  startBtn.addEventListener("click",()=>{
    questions=shuffleArray([...questionSets[selectedDifficulty]]);
    current=0;score=0;wrongAnswers=[];
    startScreen.style.display="none";
    questionScreen.style.display="block";
    showQuestion();
  });

  choicesEl.addEventListener("click",e=>{
    const btn=e.target.closest("button");
    if(!btn)return;
    const i=Array.from(choicesEl.children).indexOf(btn);
    checkAnswer(i);
  });

  retryBtn.addEventListener("click",()=>location.reload());

  function showQuestion(){
    const q=questions[current];
    questionEl.textContent=q.q;
    choicesEl.innerHTML="";
    q.a.forEach(c=>{
      const btn=document.createElement("button");
      btn.textContent=c;
      choicesEl.appendChild(btn);
    });
    progressEl.textContent=`問題 ${current+1} / 10`;
  }

  function checkAnswer(i){
    const q=questions[current];
    if(i===q.correct){score++;}
    else{wrongAnswers.push({question:q.q,correctAnswer:q.a[q.correct],yourAnswer:q.a[i]});}
    current++;
    if(current<10)showQuestion();else finishTest();
  }

  function finishTest(){
    questionScreen.style.display="none";
    endScreen.style.display="block";
    scoreEl.textContent=`あなたの点数は ${score} / 10 点 です。`;
    wrongListEl.innerHTML=wrongAnswers.length?
      wrongAnswers.map(w=>`<li><strong>問題：</strong>${w.question}<br><span style="color:#e74c3c;">あなたの回答：</span>${w.yourAnswer}<br><span style="color:#2ecc71;">正解：</span>${w.correctAnswer}</li>`).join("")
      :"<li>全問正解です！素晴らしい！</li>";
  }
});
</script>
</body>
</html>